# A. Глиняная статистика

|   |   |
|---|---|
|Ограничение времени|1.5 секунд|
|Ограничение памяти|256Mb|
|Ввод|стандартный ввод|
|Вывод|стандартный вывод|

Ассирия. Ниневия. 612 год до н.э.  
  
В городе бушует пожар. В пламени огня растворяются бесценные знания ассирийских математиков, алхимиков, звездочётов, врачей, политиков, философов... Библиотека Ашшурбанипала была особенным местом, в ней царь собирал всю мудрость своих современников, чтобы передать потомкам. Наверное, это тот самый случай, который можно описать фразой «Mission Failed Successfully». Только спустя почти две с половиной тысячи лет французские археологи найдут глиняные таблички, обожжённые и благодаря этому сохранившиеся в этом ужасном пожаре.  
  
Ходят легенды, что в подвале городской лекарни также сохранились записи о лечебных манипуляциях с пациентами. Самой необычной находкой для археологов, работавших в районе лекарни, оказалось то, что ассирийские лекари каждый день замеряли температуру тел больных, находящихся в их заведении, и для статистики вычисляли... Да, именно её.  
  
Зачем им нужна была такая статистика, пока не понятно, но на табличках со средними значениями температуры в лекарне также находились полезные заметки, которые позже планировалось также отдать в библиотеку, как знания об устройстве человека. В помещении через стену хранились таблички с записями о замерах температуры у пациентов. Так как они были хорошо структурированы, их, в отличие от табличек со статистикой, быстро получилось оцифровать.  
  
Археологи уверяют, что ассирийцы очень точно считали свою статистику и очень аккуратно её вели на протяжении тысячелетий. Только если таблички с замерами оцифровать уже получилось, то вот таблички со сводной статистикой найдены и оцифрованы ещё не все. Для того, чтобы выяснить, на какие из неоцифрованных табличек нужно бросить больше сил, археологи просят вас помочь рассчитать среднюю температуру из имеющихся расшифрованных данных!

## Формат ввода

На вход программе будет подано $N≤10^5+1$ запросов.

В запросах могут присутствовать следующие параметры:

- $1≤id≤10^6$ — натуральное число, номер истории пациента.
    
- −10.0≤t≤42.5 — дробное число с точностью до 1-го знака после разделителя — значение замера температуры тела пациента.
    

Запросы принимают один из пяти видов:

- «+idt» — в стационаре появился новый пациент с номером истории id и температурой t.
    
- «∼idt» — пациенту с номером истории id провели повторный замер температуры. Теперь она считается равной t.
    
- «−id» — пациента id выписали из лечебницы.
    
- «?» — необходимо по имеющимся данным вычислить среднюю температуру пациентов в лекарне.
    
- «!» — ввод окончен, программе необходимо остановить исполнение.
    

## Формат вывода

На каждый запрос «?» необходимо вывести значение средней температуры пациентов в лекарне с точностью до 9 знаков после разделителя.

### Пример 1

| Ввод                                       | Вывод         |
| ------------------------------------------ | ------------- |
| + 1 36.5<br>+ 2 37.0<br>?<br>- 1<br>?<br>! | 36.75<br>37.0 |

### Пример 2

| Ввод                                                                                          | Вывод                                        |
| --------------------------------------------------------------------------------------------- | -------------------------------------------- |
| + 1 36.5<br>?<br>+ 2 42.3<br>?<br>+ 3 39.0<br>?<br>~ 2 -6.8<br>?<br>- 2<br>~ 3 40.1<br>?<br>! | 36.5<br>39.4<br>39.266666667<br>22.9<br>38.3 |


# B. Вход в гробницу

Гробница Тутанхамона была обнаружена в 1922 году Говардом Картером в долине царей. Она практически не была затронута и содержала более 5000 артефактов, включая знаменитую золотую маску. Построена для фараона, который правил в 1332–1323 гг. до н.э., гробница довольно мала: около 3,3 на 3,3 метра. Открытие стало важным событием для египтологии, породив слухи о «проклятии фараонов» после загадочных смертей, связанных с раскопками людей.

В том самом 1922 году Говард Картер столкнулся с проблемой: вход в гробницу был закрыт, а чтобы зайти требовалось ввести пароль. Для него использовался алфавит из 23 древнеегипетских букв. Их заботливо перевели в первые 23 буквы английского алфавита (a-w).

Выяснилось, как древние египтяне составляли пароль. У них было m чисел $x_j$ (которые не равны по модулю 23 и не равны нулю). Для каждого $x_j$ они составляли сумму $(Σ^n_{i=1}x^{i−1}_j⋅ai)mod23=b_j$, где n это длина пароля, а ai это числа от 0 до 22 (номер буквы пароля начиная с 0). Причем $b_j$ известны.

Вам требуется подобрать нужный пароль. Гарантируется, что пароль существует.

## Формат ввода

В первой строке входных данных число n (1≤m≤n≤1000).

В следующей строке число m (1≤m≤3).

В следующей строке m чисел $x_j (1≤x_j≤10^9).$

В следующей строке m чисел $b_j (0≤b_j≤22)$.

## Формат вывода

Строка s из строчных латинских букв от а до w длиной n.

### Пример 1

| Ввод                        | Вывод                |
| --------------------------- | -------------------- |
| 4<br>3<br>2 3 5<br>11 10 16 | <br><br><br><br>vaja |

### Пример 2

| Ввод                           | Вывод                      |
| ------------------------------ | -------------------------- |
| 10<br>3<br>3 11 20<br>11 11 21 | <br><br><br><br>kgqaaaaaaa |

# C. Разгрузка судов

Период с конца VIII до начала XI века в Европе принято называть эпохой викингов. Слово «викинг» происходит от староскандинавского слова «v´ıkingr», что означает «морской разбойник» или «пират». И жители Скандинавии того времени полностью оправдывали это название: они организовывали рейды на прибрежные поселения, монастыри и города Англии, Франции, Ирландии и других частях Европы. С захваченными сокровищами они возвращались к себе домой, где использовали награбленное как валюту, украшали драгоценностями свои дома и места отправления культа. Сокровища перевозились в больших прямоугольных мешках, которые по внешнему виду очень напоминали контейнеры, поэтому далее мы их так и будем называть.  
  
Однажды близ островов Норвегии случился казус. Драккары прибыли в порт, но вот незадача — разгрузить добытое богатство оказалось не так просто. Поэтому они попросили помощи у вас.  
  
Есть n драккаров, каждый из которых имеет длину $l_i$. Высота каждого из l стеков из контейнеров, которые перевозит драккар, не может превосходить 3, так как при большей высоте контейнеры с судна вываливались при большой качке. На каждом контейнере написано некоторое число, означающее, в какую деревню он должен быть доставлен. Доставку контейнеров в деревни по суше викинги осуществляют на обозах. Они не могут перевозить более 3 штук, иначе обоз застрянет по пути. Также у викингов в порту есть площадка, на которой могут быть расположены не более 4 контейнеров в ряд (но не в высоту, то есть в высоту на каждое из мест на площадке можно поставить только 1 контейнер).

В любой момент времени вы можете делать следующие действия:

1. Взять некоторый верхний контейнер из стека на каком-то из драккаров и перенести его на текущий обоз или на одно из мест в ряду на площадке.
    
2. Можно взять контейнер с какого-нибудь места на площадке и поставить на текущий обоз.
    
3. Отправить текущий обоз в деревню назначения (в каждый момент времени загружается только один обоз).
    

Сегодня из-за погодных условий в порту обозы возят только h контейнеров, а вам требуется минимизировать количество обозов.

## Формат ввода

В первой строке два числа n (1≤n≤100) — количество драккаров, и h (1≤h≤3) — количество контейнеров, которое сегодня перевозят обозы.

Во второй строке n чисел $l_i (1≤l_i≤100)$.

Далее идут $\sum_{i=1}^n l_i$ строк с описанием контейнеров в стеках, начиная с первого стека первого корабля и так далее. В каждом стеке данные идут от первого доступного контейнера, то есть сверху вниз. Каждая из этих строк содержит число ($0≤s≤3$) — высота стека из контейнеров и s чисел $a_j$ ($1≤a_j≤a_j+1≤100$), соответствующих деревне, в которую надо доставить данный контейнер.

## Формат вывода

Каждая строка описывает действие из условия. Первое число соответствует команде.

Если первое число равно 1, то далее следуют три числа i, j, k, где если k это 0, то это переместить верхний контейнер i-го корабля j-го стека на обоз, а если 1≤k≤4, то переместить на k-ю площадку порта.

Если первое число равно 2, то далее следует одно число 1≤p≤4 — с какой площадки порта переместить на обоз.

Если первое число равно 3, то необходимо отправить текущий обоз и подготовить к погрузке следующий.

В последней строке вашего алгоритма выведите 0.

## Пример


| Ввод                                                            | Вывод                                                                                                                                                                                                                                 |
| --------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1 3<br>5<br>3 1 2 3<br>3 3 3 3<br>3 3 3 3<br>3 2 2 3<br>3 2 3 3 | <br><br><br><br><br><br><br>1 1 1 0<br>3<br>1 1 1 0<br>1 1 4 0<br>1 1 4 0<br>3<br>1 1 5 0<br>3<br>1 1 1 0<br>1 1 2 0<br>1 1 2 0<br>3<br>1 1 2 0<br>1 1 3 0<br>1 1 3 0<br>3<br>1 1 3 0<br>1 1 4 0<br>1 1 5 0<br>3<br>1 1 5 0<br>3<br>0 |
